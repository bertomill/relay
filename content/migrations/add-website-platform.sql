-- Migration: Add "website" platform and body column to posts
-- Run this in your Supabase SQL Editor

-- 1. Add body column to posts
ALTER TABLE public.posts ADD COLUMN IF NOT EXISTS body text;

-- 2. Update platform CHECK constraint to include 'website'
ALTER TABLE public.posts DROP CONSTRAINT IF EXISTS posts_platform_check;
ALTER TABLE public.posts ADD CONSTRAINT posts_platform_check
  CHECK (platform IN ('website', 'x', 'medium', 'linkedin', 'instagram', 'youtube'));

-- 3. Insert the website article post for Vercel Agents vs Claude Agents
INSERT INTO public.posts (topic_id, platform, title, body, excerpt, status, published_at)
VALUES (
  (SELECT id FROM public.topics WHERE slug = 'vercel-agents-vs-claude-agents'),
  'website',
  'Vercel AI SDK vs Claude Agent SDK: Which One Should You Build With?',
  E'# Vercel AI SDK vs Claude Agent SDK: Which One Should You Build With?\n\n*The agent era is here. Two of the most important tools for building AI agents just got major upgrades — but they solve very different problems. Here''s how to think about them.*\n\n---\n\nIf you''re building anything with AI right now, you''ve probably come across two names over and over: **Vercel''s AI SDK** and **Anthropic''s Claude Agent SDK**.\n\nBoth let you build AI agents. Both support tool use and MCP. Both are open source. But they''re built for fundamentally different jobs — and choosing the wrong one will cost you time.\n\nWe''ve been building AI agents for businesses at Lighten AI, and we use both. Here''s our honest breakdown.\n\n---\n\n## What They Are (In Plain English)\n\n**Vercel AI SDK 6** is a TypeScript toolkit for building AI-powered web applications. Think: chatbots, AI features inside your Next.js app, streaming UI components. It''s model-agnostic — you can plug in Claude, GPT, Gemini, whatever. The new Agent abstraction in v6 lets you define reusable agents with tools, instructions, and type-safe streaming right into your frontend.\n\n**Claude Agent SDK** is Anthropic''s toolkit for building autonomous, long-running agents powered by Claude. Think: an agent that can execute shell commands, manage files, search documentation, and complete multi-step workflows on its own. It''s purpose-built for Claude and deeply integrated with Claude''s reasoning capabilities.\n\n---\n\n## The Key Difference\n\nHere''s the simplest way to think about it:\n\n- **Vercel AI SDK** = Build AI *into* your app\n- **Claude Agent SDK** = Build agents that *do work* autonomously\n\nVercel is about the interface. Claude is about the autonomy.\n\n---\n\n## When to Use Vercel AI SDK\n\n- You''re building a web app with AI features (chat, search, content generation)\n- You want to stream AI responses into a React/Next.js/Vue/Svelte UI\n- You need to switch between models (Claude today, GPT tomorrow)\n- You want type-safe tool execution with frontend integration\n- You need DevTools for debugging agent behavior in the browser\n\n**Best for:** SaaS products, AI-powered dashboards, customer-facing chat, any web app where AI is a feature.\n\n---\n\n## When to Use Claude Agent SDK\n\n- You''re building agents that run tasks autonomously (not just chat)\n- Your agent needs to execute commands, manage files, or call APIs\n- You want deep MCP integration with tools like Slack, GitHub, Google Drive\n- You need Tool Search for dynamic tool discovery (the agent finds its own tools)\n- You''re building internal automation, not a consumer-facing UI\n\n**Best for:** Business automation, code agents, document processing, workflow orchestration, internal tools.\n\n---\n\n## Can You Use Both?\n\nYes — and honestly, this is where things get interesting.\n\nVercel AI SDK supports Claude as a provider. So you can use Vercel''s frontend streaming and Agent abstraction while powering it with Claude''s reasoning. There''s even a community provider (`ai-sdk-provider-claude-code`) that lets you use the Claude Agent SDK through Vercel''s unified interface.\n\nIn practice, we''ve found the sweet spot is:\n- **Vercel AI SDK** for the user-facing layer (streaming, UI, model routing)\n- **Claude Agent SDK** for the backend agent work (file operations, tool execution, autonomous tasks)\n\n---\n\n## Quick Comparison\n\n| | Vercel AI SDK 6 | Claude Agent SDK |\n|---|---|---|\n| **Language** | TypeScript | Python & TypeScript |\n| **Models** | Any (Claude, GPT, Gemini, etc.) | Claude only |\n| **Primary use** | AI features in web apps | Autonomous agent tasks |\n| **Frontend** | Built-in React/Next.js streaming | Headless (bring your own UI) |\n| **MCP support** | Full | Native |\n| **Tool execution** | In-app tool loops | Shell commands, file I/O, APIs |\n| **Best for** | Product teams | Automation & ops teams |\n\n---\n\n## Our Take\n\nThere''s no "winner" here. These tools complement each other.\n\nIf you''re a product team building AI into a web app, start with Vercel AI SDK. If you''re automating business operations and need agents that actually do work end-to-end, start with Claude Agent SDK.\n\nIf you''re us — building custom AI agents for businesses — you use both.\n\nThe agent era is just getting started. The teams that understand which tool fits which job will move the fastest.\n\n---\n\n*We''re Lighten AI. We build custom AI agents that take work off your plate so you can focus on what you do best. If you''re curious how agents could work for your business, [get in touch](https://lightenai.com).*',
  'An honest comparison of Vercel AI SDK 6 and Anthropic''s Claude Agent SDK — when to use each, and why the answer is often both.',
  'published',
  now()
);

-- Force PostgREST schema cache reload
NOTIFY pgrst, 'reload schema';
